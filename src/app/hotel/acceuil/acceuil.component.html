<div id="booking" class="section">
    <div id="main">
        <div class="section-center">


            <div class="container">
                <div class="" style="justify-content: center;">
                    <div class="booking-form">
                        <form name="form" #f="ngForm" (ngSubmit)="f.form.valid && submitForm()">
                            <div *ngIf="!picked" class="alert alert-danger">
                                test test test
                            </div>
                            <div class="row " style="justify-content: center;">

                                <div class="col-md-7">

                                    <h6 class="form-label text-primary" style="margin-left: 25px !important; position: absolute; z-index: 1;">
                                        Destination </h6>
                                    <div class="ng-autocomplete">
                                        <ng-autocomplete [data]="locations" [formControl]="search"
                                            [isLoading]="isLoading" [searchKeyword]="key" (selected)='select($event)'
                                            [itemTemplate]="itemTemplate" [customFilter]="filter">
                                        </ng-autocomplete>

                                        <ng-template #itemTemplate let-loc>
                                            <span class="material-icons"> location_on </span>
                                            <div style="margin-left: 5px;">
                                                <p [innerHTML]="'<b>' + loc.name + ' (' + loc.iataCode + ')</b>'"> </p>
                                                <span>{{loc.address.cityName}}</span><span>-{{loc.address.countryName |
                                                    lowercase}}</span>
                                            </div>
                                            <hr>
                                        </ng-template>

                                    </div>


                                </div>




                                <div class="col-md-3">
                                    <div class="form-group">
                                        <h6 class="form-label text-primary">Voyageurs</h6>
                                        <div class="form-control" id="myBtn" (click)="openmodal()">

                                            <p style="margin-top: 9px;">{{listechambre.length}} chambre, {{listechambre
                                                | sum}} voyageurs
                                                <span class="material-icons">people</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="row" style="justify-content: center;">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <mat-form-field appearance="outline" style="margin-left: 20px !important;" class="example-form-field">
                                            <mat-label style="font-size:15px;">Check-in</mat-label>
                                            <input matInput [matDatepicker]="datepicker1" [min]="todaydate"
                                                [(ngModel)]="startDate" #start=ngModel name="start"
                                                [ngClass]="{'is-invalid': f.submitted && start.invalid}"
                                                (dateChange)="next($event)" required>
                                            <mat-datepicker-toggle matSuffix [for]="datepicker1">
                                            </mat-datepicker-toggle>
                                            <!-- #docregion datepicker-actions -->
                                            <mat-datepicker #datepicker1>
                                                <mat-datepicker-actions>
                                                    <button mat-button matDatepickerCancel>Cancel</button>
                                                    <button mat-raised-button color="primary"
                                                        matDatepickerApply>Apply</button>
                                                </mat-datepicker-actions>
                                            </mat-datepicker>
                                            <div *ngIf="f.submitted && start.invalid">
                                                <div class="text-danger" *ngIf="start.errors?.required">start date is
                                                    required</div>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <mat-form-field appearance="outline" class="example-form-field">
                                            <mat-label style="font-size:15px;">Check-out</mat-label>
                                            <input matInput [matDatepicker]="datepicker2" [min]="minCheckout"
                                                [(ngModel)]="endDate" #end=ngModel name="endDate"
                                                [ngClass]="{'is-invalid': f.submitted && end.invalid}" required>
                                            <mat-datepicker-toggle matSuffix [for]="datepicker2">
                                            </mat-datepicker-toggle>

                                            <mat-datepicker #datepicker2>
                                                <mat-datepicker-actions>
                                                    <button mat-button matDatepickerCancel>Cancel</button>
                                                    <button mat-raised-button color="primary"
                                                        matDatepickerApply>Apply</button>
                                                </mat-datepicker-actions>
                                            </mat-datepicker>
                                            <div *ngIf="f.submitted && end.invalid">
                                                <div class="text-danger" *ngIf="end.errors?.required">End date is
                                                    required</div>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-btn">
                                        <button class="submit-btn" type="submit">
                                            <h5>Recherche</h5>
                                        </button>
                                    </div>


                                </div>
                            </div>



                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="container">


    <h2 class="text-center text-primary"
        style="padding-top: 5%; padding-bottom: 2%; font-size: 40px; letter-spacing: 10px;">Nos
        Recommandation</h2>
    <hr>


    <div class="row">
        <div class="column">
            <div class="card">
                <img src="assets\img\Hammamet.jpg" style="width:100%">
                <div class="container">
                    <h4>Hasdrubal Thalassa et SPA </h4>
                    <p class="title">★★★★★ (Hammamet)</p>
                    <p style="font-size: small; color:grey"> a partir de * <br> <strong
                            style="color: orange; font-size: 30px;">98 dt</strong> <br> prix du 07/1/2021</p>
                    <p><button class="button">Plus de details</button></p>
                </div>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <img src="assets\img\Hammamet1.jpg" style="width:100%">
                <div class="container">
                    <h4>El Mouradi El Menzah</h4>
                    <p class="title">★★★★ (Hammamet)</p>
                    <p style="font-size: small; color:grey"> a partir de * <br> <strong
                            style="color: orange; font-size: 30px;">75 dt
                        </strong> <br> prix du 05/4/2021</p>

                    <p><button class="button">Plus de details</button></p>
                </div>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <img src="assets\img\mahdia.jpg" style="width:100% ; height: 170px;">
                <div class="container">
                    <h4>Club Calimera Yati Beach</h4>
                    <p class="title">★★★★ (Mahdia)</p>
                    <p style="font-size: small; color:grey"> a partir de * <br>
                        <strong style="color: orange; font-size: 30px;">43
                            dt</strong> <br> prix du 05/5/2021
                    </p>
                    <p><button class="button">Plus de details</button></p>
                </div>
            </div>
        </div>
    </div>


    <h2 class="text-center text-primary"
        style="padding-top: 5%; padding-bottom: 2%; font-size: 40px; letter-spacing: 10px;">Nos Packs </h2>
    <hr>

    <div class="row">
        <div class="column">
            <div class="card">
                <img src="assets\img\pach33.jpg" style="width:100%">
                <div class="container">
                    <br>
                    <p><button class="button">Plus de details</button></p>
                </div>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <img src="assets\img\pack55.jpg" style="width:100%">
                <div class="container">
                    <br>
                    <p><button class="button">Plus de details</button></p>
                </div>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <img src="assets\img\pack22.jpg" style="width:100% ">
                <div class="container">

                    <br>
                    <p><button class="button">Plus de details</button></p>
                </div>
            </div>
        </div>
    </div>

    <hr>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam excepturi ratione iusto sequi modi, harum
        neque! Nobis officia ea sapiente exercitationem laudantium quos, id, alias magnam labore assumenda cum
        obcaecati.s</p>

    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. A est cumque aliquam, aliquid ratione eveniet dicta
        similique quis necessitatibus fuga et explicabo tenetur id corrupti nobis animi eligendi? Fugiat, dolor!</p>

</div>
<br>
<br>

<!--modal-->



<div id="myModal" class="modal">
    <div class="modal-content" style="top:30vh">
        <div class="modal-header">
            <h5 class="text-primary">Voyageurs</h5>
        </div>

        <div class="modal-body" *ngFor="let chambre of listechambre; let index = index;">
            <hr *ngIf="index != 0">
            <h6 class="text-primary">chambre {{index + 1}}</h6>
            <span class="counter"><strong> Adultes</strong></span>
            <ul class="btn-group">
                <li>
                    <a (click)="moin(index,'adult')"> <span class="material-icons">
                            remove_circle_outlined
                        </span></a>
                </li>
                <li>
                    <input matInput type="text" size="1%" [value]="chambre.adult" readonly="isReadonly"
                        class="inputcounter">
                </li>
                <li>
                    <a (click)="plus(index,'adult')"><span class="material-icons">
                            add_circle_outlined
                        </span></a>
                </li>
            </ul> <br>
            <br>
            <br>
            <span class="counter"> <strong> Enfants </strong></span>

            <ul class="btn-group">
                <li>
                    <a (click)="moin(index,'enfant')">
                        <span class="material-icons">
                            remove_circle_outlined
                        </span></a>
                </li>
                <li>
                    <input type="text" size="1%" [value]="chambre.enfant" readonly="isReadonly" class="inputcounter">
                </li>
                <li>
                    <a (click)="plus(index,'enfant')">
                        <span class="material-icons">
                            add_circle_outlined
                        </span></a>
                </li>
            </ul>
            <div *ngIf="index != 0">
                <button (click)="removeChamber(index)" class="pstyle float-right text-danger">Supprimer la
                    chambre</button>
                <br>
            </div>
        </div>


        <button id="btnforme" (click)="addChamber()" [disabled]="disabled" class="pstyle">Ajouter une autre
            chambre</button>

        <div class="modal-footer">
            <button class="btn btn-primary" (click)="closemodal()">Confirmer</button>
        </div>
    </div>
</div>


<!--modal-->
<!--footer-->
<footer class="bg-light text-center text-lg-start">
    <!-- Grid container -->
    <div class="container p-4">
        <!--Grid row-->
        <div class="row">
            <!--Grid column-->
            <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
                <h5 class="text-uppercase">Footer Content</h5>

                <p>
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
                    molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam
                    voluptatem veniam, est atque cumque eum delectus sint!
                </p>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                <h5 class="text-uppercase">Links</h5>

                <ul class="list-unstyled mb-0">
                    <li>
                        <a href="#!" class="text-dark">Link 1</a>
                    </li>
                    <li>
                        <a href="#!" class="text-dark">Link 2</a>
                    </li>
                    <li>
                        <a href="#!" class="text-dark">Link 3</a>
                    </li>
                    <li>
                        <a href="#!" class="text-dark">Link 4</a>
                    </li>
                </ul>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                <h5 class="text-uppercase mb-0">Links</h5>

                <ul class="list-unstyled">
                    <li>
                        <a href="#!" class="text-dark">Link 1</a>
                    </li>
                    <li>
                        <a href="#!" class="text-dark">Link 2</a>
                    </li>
                    <li>
                        <a href="#!" class="text-dark">Link 3</a>
                    </li>
                    <li>
                        <a href="#!" class="text-dark">Link 4</a>
                    </li>
                </ul>
            </div>
            <!--Grid column-->
        </div>
        <!--Grid row-->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
        © 2020 Copyright:
        <a class="text-dark" href="https://mdbootstrap.com/">MDBootstrap.com</a>
    </div>
    <!-- Copyright -->
</footer>